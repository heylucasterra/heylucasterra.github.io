{"version":3,"sources":["src/on-create-node.js"],"names":["require","resolve","defaultOptions","mdExt","cwd","process","module","exports","userOptions","node","boundActionCreators","internal","type","options","markdownPath","path","fileAbsolutePath","indexOf","createNodeField","frontmatter","template","permalink","slug","replace","name","value"],"mappings":";;;;;;;;;;;;;;;;eAAoBA,QAAQ,MAAR,C;IAAZC,O,YAAAA,O;;AACR,IAAMC,iBAAiBF,QAAQ,mBAAR,CAAvB;AACA,IAAMG,QAAQ,iBAAd;AACA,IAAMC,MAAMC,QAAQD,GAAR,EAAZ;;AAEAE,OAAOC,OAAP;AAAA,qFAAiB,wBAAsCC,WAAtC;AAAA,MAASC,IAAT,SAASA,IAAT;AAAA,MAAeC,mBAAf,SAAeA,mBAAf;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,YACZD,KAAKE,QAAL,CAAcC,IAAd,qBADY;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAEVC,aAFU,8BAGZX,cAHY,EAIZM,WAJY;AAMVM,kBANU,GAMKb,QAAQG,GAAR,EAAaS,QAAQE,IAArB,CANL;;AAAA,YAOZN,KAAKO,gBAAL,CAAsBC,OAAtB,CAA8BH,YAA9B,MAAgD,CAPpC;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAQRI,qBARQ,GAQYR,mBARZ,CAQRQ,eARQ;AAAA,0BASgBT,KAAKU,WATrB,EASRC,QATQ,qBASRA,QATQ,EASEC,SATF,qBASEA,SATF;AAUVC,UAVU,GAUHD,aAAaZ,KAAKO,gBAAL,CACxBO,OADwB,CAChBT,YADgB,MAExBS,OAFwB,CAEhBpB,KAFgB,KAVV;;AAahBe,sBAAgB;AACfT,iBADe;AAEfe,uBAFe;AAGfC,cAAOL;AAHQ,OAAhB;AAKAF,sBAAgB;AACfT,iBADe;AAEfe,mBAFe;AAGfC,cAAOH;AAHQ,OAAhB;;AAlBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjB;;AAAA;AAAA;AAAA;AAAA","file":"on-create-node.js","sourcesContent":["const { resolve } = require('path')\nconst defaultOptions = require('./default-options')\nconst mdExt = /.(md|markdown)$/\nconst cwd = process.cwd()\n\nmodule.exports = async ({ node, boundActionCreators }, userOptions) => {\n\tif (node.internal.type !== `MarkdownRemark`) return\n\tconst options = {\n\t\t...defaultOptions,\n\t\t...userOptions,\n\t}\n\tconst markdownPath = resolve(cwd, options.path)\n\tif (node.fileAbsolutePath.indexOf(markdownPath) !== 0) return\n\tconst { createNodeField } = boundActionCreators\n\tconst { template, permalink } = node.frontmatter\n\tconst slug = permalink || node.fileAbsolutePath\n\t\t.replace(markdownPath, ``)\n\t\t.replace(mdExt, ``)\n\tcreateNodeField({\n\t\tnode,\n\t\tname: `template`,\n\t\tvalue: template || ``,\n\t})\n\tcreateNodeField({\n\t\tnode,\n\t\tname: `slug`,\n\t\tvalue: slug,\n\t})\n}"]}